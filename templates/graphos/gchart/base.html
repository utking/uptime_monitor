<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
      google.charts.load('current', {packages: ['corechart']});
      google.setOnLoadCallback(drawChart{{ chart.get_html_id }});
      function drawChart{{ chart.get_html_id }}() {
        {% block chart_specific_arraytodatatable %}
          const data = google.visualization.arrayToDataTable({{ chart.get_data_json|safe }});
        {% endblock %}

        {% if chart.get_options_json %}
          const options = {{ chart.get_options_json|safe }}
        {% else %}
          var options = {};
        {% endif %}

        {% block create_chart %}
        {% endblock %}
      }
  });
</script>
